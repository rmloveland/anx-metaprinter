AppNexus API "Metaprinter"
==========================

This command-line utility (installed as `metaprinter`) prints nicely
formatted wiki tables for AppNexus Console API docs.  It does this by
fetching the output of API service "meta" calls.

When provided with no arguments, it prints a help message like this:

    $ metaprinter
    Usage: metaprinter --endpoint {sand,prod} --{std,rpt} SERVICE

The `--endpoint` flag determines whether you're hitting the sand or
production Console API.

*Note: The ImpBus API is not supported yet.*

The `--std` flag means that you are trying to access a "standard" API
service, such as the [Publisher Service](), e.g.:

    $ metaprinter --endpoint sand --std publisher

The `--rpt` flag means that you want a table printed for a reporting
API (one that lives under the [Reporting Service]()), e.g.:

    $ metaprinter --endpoint prod --rpt network_analytics


INSTALLATION
------------

First, create the directory `~/bin/.metaprinter` like so:

	$ mkdir -p ~/bin/.metaprinter && cd ~/bin/.metaprinter
	$ touch auth-prod.json
	$ touch auth-sand.json
	$ touch cookies.prod
	$ touch cookies.sand
	$ touch -t 200101010101 sentinel.prod
	$ touch -t 200101010101 sentinel.sand

Edit the `auth-*.json` files to hold your login credentials for each
endpoint, e.g.,

    {
        "auth": {
            "password": "FOOBAR",
            "username": "rloveland"
        }
    }

After you save your `auth-*.json` files, change their permissions so
no one else can read your passwords like so:

    $ chmod 600 auth*


USAGE
-----

Assuming you have done everything shown in the **INSTALLATION**
section (and a few things not shown there yet -- talk to
[Rich Loveland](mailto:rloveland@appnexus.com)), you can run it like
so:

    $ metaprinter
    Usage: metaprinter --endpoint {sand,prod} --{std,rpt} SERVICE

If you want to print out a wiki table for the Publisher Service docs, do:

    $ metaprinter --endpoint sand --std publisher
    ... table output ...


HACKING
-------

    ,config ,load /Users/rloveland/Code/mathoms/anx-metaprinter/interfaces.scm
    ,config ,load /Users/rloveland/Code/mathoms/anx-metaprinter/packages.scm
    ,open anx-metaprinter
